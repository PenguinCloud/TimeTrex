---
- name: Make sure universe repository is enabled
  apt_repository:
    repo: deb http://archive.ubuntu.com/ubuntu focal universe
    state: present
    update_cache: yes

- name: Add php repo
  apt_repository:
    repo: ppa:ondrej/php
    state: present

- name: Install Dependencies
  apt:
    pkg:
    - unzip
    - nginx
    - php8.0-fpm
    - libapache2-mod-php
    - php8.0
    - php8.0-cgi
    - php8.0-cli
    - php8.0-pgsql
    - php8.0-pspell
    - php8.0-gd
    - php8.0-gettext
    - php8.0-imap
    - php8.0-intl
    - php8.0-json
    - php8.0-soap
    - php8.0-zip
    - php8.0-curl
    - php8.0-ldap
    - php8.0-xml
    - php8.0-xsl
    - php8.0-mbstring
    - php8.0-bcmath
    - python-openssl
    - python3-psycopg2
    state: latest
    update_cache: yes
